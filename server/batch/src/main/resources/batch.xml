<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/batch" xmlns:beans="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch-2.1.xsd">

    <beans:import resource="database.xml" />

    <beans:import resource="dao.xml" />

    <beans:import resource="SBF01.xml" />

    <beans:import resource="SBF02.xml" />

    <beans:import resource="SBF03.xml" />

    <beans:import resource="SBF04.xml" />

    <beans:import resource="SBF05.xml" />

    <beans:import resource="SBF07.xml" />

    <beans:import resource="SBF08.xml" />

    <beans:import resource="SBF10.xml" />

    <beans:import resource="SBF11.xml" />

    <beans:import resource="SBF12.xml" />

    <beans:import resource="SBF18.xml" />

    <beans:import resource="SBF21.xml" />

    <beans:import resource="SBF23.xml" />

    <beans:import resource="SBF24.xml" />

    <beans:import resource="SBF25.xml" />

    <beans:import resource="SBT02.xml" />

    <beans:import resource="SBT03.xml" />

    <beans:import resource="SBT04.xml" />

    <beans:import resource="SBT06.xml" />

    <beans:import resource="SBT08.xml" />

    <beans:import resource="SBT09.xml" />

    <beans:import resource="SBT10.xml" />

    <beans:import resource="SBT13.xml" />

    <beans:import resource="SBT14.xml" />

    <beans:import resource="SBT18.xml" />

    <beans:import resource="SBT20.xml" />

    <beans:import resource="SBT21.xml" />

    <beans:import resource="SBT27.xml" />

    <job-repository />

    <beans:bean id="jobLauncher" class="org.springframework.batch.core.launch.support.SimpleJobLauncher">
        <beans:property name="jobRepository" ref="jobRepository"></beans:property>
    </beans:bean>

    <beans:bean id="itemSqlParameterSourceProvider" class="org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider"></beans:bean>

    <beans:bean id="skipDecider" class="tw.com.citi.cdic.batch.job.flow.SkipDecider" abstract="true"></beans:bean>

    <beans:bean id="checkFilesDecider" parent="skipDecider">
        <beans:property name="stepName" value="checkFiles"></beans:property>
    </beans:bean>

    <beans:bean id="copyFilesDecider" parent="skipDecider">
        <beans:property name="stepName" value="copyFiles"></beans:property>
    </beans:bean>

    <beans:bean id="f01Decider" parent="skipDecider">
        <beans:property name="stepName" value="f01"></beans:property>
    </beans:bean>

    <beans:bean id="f02Decider" parent="skipDecider">
        <beans:property name="stepName" value="f02"></beans:property>
    </beans:bean>

    <beans:bean id="f07Decider" parent="skipDecider">
        <beans:property name="stepName" value="f07"></beans:property>
    </beans:bean>

    <beans:bean id="t02Decider" parent="skipDecider">
        <beans:property name="stepName" value="t02"></beans:property>
    </beans:bean>

    <beans:bean id="t03Decider" parent="skipDecider">
        <beans:property name="stepName" value="t03"></beans:property>
    </beans:bean>

    <beans:bean id="t04Decider" parent="skipDecider">
        <beans:property name="stepName" value="t04"></beans:property>
    </beans:bean>

    <beans:bean id="t08Decider" parent="skipDecider">
        <beans:property name="stepName" value="t08"></beans:property>
    </beans:bean>

    <beans:bean id="t09Decider" parent="skipDecider">
        <beans:property name="stepName" value="t09"></beans:property>
    </beans:bean>

    <beans:bean id="t10Decider" parent="skipDecider">
        <beans:property name="stepName" value="t10"></beans:property>
    </beans:bean>

    <beans:bean id="t11Decider" parent="skipDecider">
        <beans:property name="stepName" value="t11"></beans:property>
    </beans:bean>

    <beans:bean id="t13Decider" parent="skipDecider">
        <beans:property name="stepName" value="t13"></beans:property>
    </beans:bean>

    <beans:bean id="t14Decider" parent="skipDecider">
        <beans:property name="stepName" value="t14"></beans:property>
    </beans:bean>

    <beans:bean id="t18Decider" parent="skipDecider">
        <beans:property name="stepName" value="t18"></beans:property>
    </beans:bean>

    <beans:bean id="t20Decider" parent="skipDecider">
        <beans:property name="stepName" value="t20"></beans:property>
    </beans:bean>

    <beans:bean id="t21Decider" parent="skipDecider">
        <beans:property name="stepName" value="t21"></beans:property>
    </beans:bean>

    <beans:bean id="t27Decider" parent="skipDecider">
        <beans:property name="stepName" value="t27"></beans:property>
    </beans:bean>

    <job id="convertJob">

        <decision id="checkFilesDecision" decider="checkFilesDecider">
            <next on="EXECUTE" to="checkFiles" />
            <next on="SKIP" to="copyFilesDecision" />
        </decision>
        <step id="checkFiles">
            <description>檢查檔案是否已經準備好</description>
            <tasklet>
                <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.CheckFilesTasklet" />
            </tasklet>
            <fail on="FAILED" exit-code="FILE INCOMPLETE" />
            <next on="*" to="copyFilesDecision" />
        </step>

        <decision id="copyFilesDecision" decider="copyFilesDecider">
            <next on="EXECUTE" to="copyFiles" />
            <next on="SKIP" to="importFiles" />
        </decision>
        <step id="copyFiles" next="importFiles">
            <description>將檔案複製一份至 process 資料夾</description>
            <tasklet>
                <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.CopyFilesTasklet">
                    <beans:property name="sourceDir" value="z:/input"></beans:property>
                    <beans:property name="targetDir" value="z:/process"></beans:property>
                </beans:bean>
            </tasklet>
        </step>

        <split id="importFiles">
            <flow>
                <decision id="f01Decision" decider="f01Decider">
                    <next on="EXECUTE" to="f01" />
                    <end on="SKIP" />
                </decision>
                <step id="f01">
                    <description>把 bus view 的資料 import 至 A11 file</description>
                    <tasklet>
                        <chunk reader="busDbReader" writer="a11FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <split id="f02A-f03A-f04A-f05" next="f07-f08-f18">
                    <flow>
                        <decision id="f02Decision" decider="f02Decider">
                            <next on="EXECUTE" to="f02A-a21" />
                            <end on="SKIP" />
                        </decision>
                        <step id="f02A-a21" next="f02A-b21">
                            <description>把 CDICF02I 的資料 import 至 A21 table</description>
                            <tasklet>
                                <chunk reader="cdicF02IFileReader" writer="a21DbWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f02A-b21" next="f02A-c21">
                            <description>把 CDICF02R 的資料 import 至 B21 table</description>
                            <tasklet>
                                <chunk reader="cdicF02RFileReader" processor="b21Processor" writer="b21DbWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f02A-c21">
                            <description>把 CDICF02R 的資料 import 至 C21 file 及 C21 table</description>
                            <tasklet>
                                <chunk reader="cdicF02RFileReader" processor="c21Processor" writer="c21Writer" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f03A-a22" next="f03A-b22">
                            <description>把 CDICF03 的資料 import 至 A22 table</description>
                            <tasklet>
                                <chunk reader="cdicF03FileReader" processor="a22Processor" writer="a22DbWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f03A-b22" next="f03A-c22">
                            <description>把 CDICF03 的資料 import 至 B22 table</description>
                            <tasklet>
                                <chunk reader="cdicF03FileReader" processor="b22Processor" writer="b22DbWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f03A-c22">
                            <description>把 CDICF03 的資料 import 至 C22 table 及 C22 file</description>
                            <tasklet>
                                <chunk reader="cdicF03FileReader" processor="c22Processor" writer="c22Writer" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f04A-init" next="f04A">
                            <description>刪除 table A23 的所有資料</description>
                            <tasklet>
                                <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.SqlCommandTasklet">
                                    <beans:property name="dataSource" ref="dataSource"></beans:property>
                                    <beans:property name="sql" value="DELETE FROM A23"></beans:property>
                                </beans:bean>
                            </tasklet>
                        </step>
                        <step id="f04A">
                            <description>把 CDICF04 的資料 import 至 A23 table</description>
                            <tasklet>
                                <chunk reader="cdicF04FileReader" writer="a23DbWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f05-init" next="f05">
                            <description>刪除 table A24 的所有資料</description>
                            <tasklet>
                                <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.SqlCommandTasklet">
                                    <beans:property name="dataSource" ref="dataSource"></beans:property>
                                    <beans:property name="sql" value="DELETE FROM A24"></beans:property>
                                </beans:bean>
                            </tasklet>
                        </step>
                        <step id="f05">
                            <description>讀取 LUS view 的資料，然後產生 A24 table 及 file。</description>
                            <tasklet>
                                <chunk reader="lusDbReader" writer="a24Writer" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                </split>
                <split id="f07-f08-f18" next="f02B-f03B-F04B">
                    <flow>
                        <decision id="f07Decision" decider="f07Decider">
                            <next on="EXECUTE" to="f07-a26" />
                            <end on="SKIP" />
                        </decision>
                        <step id="f07-a26" next="f07-b26">
                            <description>把 CDICF07H 的資料 import 至 A26 file</description>
                            <tasklet>
                                <chunk reader="cdicF07HFileReader" processor="a26Processor" writer="a26FileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f07-b26" next="f07-c26">
                            <description>把 CDICF07H 的資料 import 至 B26 file</description>
                            <tasklet>
                                <chunk reader="cdicF07HFileReader" processor="b26Processor" writer="b26FileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f07-c26">
                            <description>把 CDICF07H 的資料 import 至 C26 file</description>
                            <tasklet>
                                <chunk reader="cdicF07HFileReader" processor="c26Processor" writer="c26FileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f08-a31" next="f08-b31">
                            <description>把 JointAcclist 的資料 import 至 A31</description>
                            <tasklet>
                                <chunk reader="jointAcclistFileReader" processor="a31Processor" writer="a31FileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f08-b31">
                            <description>把 JointAcclist 的資料 import 至 B31</description>
                            <tasklet>
                                <chunk reader="jointAcclistFileReader" processor="b31Processor" writer="b31FileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f18">
                            <description>Summarise BUS view 的資料，產生 A61</description>
                            <tasklet>
                                <chunk reader="busDbReader" processor="SBF18Processor" writer="f18Writer" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                </split>
                <split id="f02B-f03B-F04B">
                    <flow>
                        <step id="f02B-update-a21" next="f02B-update-b21">
                            <description>讀取 table A31 的資料來更新 table A21</description>
                            <tasklet>
                                <chunk reader="a31FileReader" processor="f02B-a21Processor" writer="f02B-a21DbWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f02B-update-b21" next="f02B-copy-a21">
                            <description>讀取 table B31 的資料來更新 table B21</description>
                            <tasklet>
                                <chunk reader="b31FileReader" processor="f02B-b21Processor" writer="f02B-b21DbWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f02B-copy-a21" next="f02B-copy-b21">
                            <description>將 tabel A21 的資料 export 至 file</description>
                            <tasklet>
                                <chunk reader="a21DbReader" writer="a21FileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f02B-copy-b21">
                            <description>將 table B21 的資料 export 至 file</description>
                            <tasklet>
                                <chunk reader="b21DbReader" writer="b21FileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f03B-update-a22" next="f03B-update-b22">
                            <description>讀取 table A31 的資料來更新 table A22</description>
                            <tasklet>
                                <chunk reader="a31FileReader" processor="f03B-a22Processor" writer="f03B-a22DbWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f03B-update-b22" next="f03B-copy-a22">
                            <description>讀取 table B31 的資料來更新 table B22</description>
                            <tasklet>
                                <chunk reader="b31FileReader" processor="f03B-b22Processor" writer="f03B-b22DbWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f03B-copy-a22" next="f03B-copy-b22">
                            <description>將 tabel A22 的資料 export 至 file</description>
                            <tasklet>
                                <chunk reader="a22DbReader" writer="a22FileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f03B-copy-b22">
                            <description>將 tabel B22 的資料 export 至 file</description>
                            <tasklet>
                                <chunk reader="b22DbReader" writer="b22FileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f04B-update" next="f04B-copy">
                            <description>讀取 table A31 的資料來更新 table A23</description>
                            <tasklet>
                                <chunk reader="a31FileReader" processor="f04B-a23Processor" writer="f04B-a23DbWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                        <step id="f04B-copy">
                            <description>將 tabel A23 的資料 export 至 file</description>
                            <tasklet>
                                <chunk reader="a23DbReader" writer="a23FileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                </split>
            </flow>
            <flow>
                <split id="f10">
                    <flow>
                        <step id="f10-sample">
                            <description>產生 f10 sample file</description>
                            <tasklet>
                                <chunk reader="cdicF10FileReader" processor="f10SampleProcessor" writer="a34SampleFileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f10-copy">
                            <description>把 host file CDICF10 的資料複製至 A34 file</description>
                            <tasklet>
                                <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.CopyFilesTasklet">
                                    <beans:property name="sourceDir" value="z:/input/CDICF10.txt"></beans:property>
                                    <beans:property name="targetDir" value="z:/process/A34.txt"></beans:property>
                                </beans:bean>
                            </tasklet>
                        </step>
                    </flow>
                </split>
            </flow>
            <flow>
                <step id="f11">
                    <description>把 local file CDICF11 資料寫至 A35 file</description>
                    <tasklet>
                        <chunk reader="cdicF11FileReader" processor="SBF11Processor" writer="f11Writer" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <split id="f12">
                    <flow>
                        <step id="f12-sample">
                            <description>產生 f12 sample file</description>
                            <tasklet>
                                <chunk reader="cdicF12FileReader" processor="f12SampleProcessor" writer="a41SampleFileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f12-copy">
                            <description>把 host file CDICF12 的資料複製至 A41 file</description>
                            <tasklet>
                                <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.CopyFilesTasklet">
                                    <beans:property name="sourceDir" value="z:/input/CDICF12.txt"></beans:property>
                                    <beans:property name="targetDir" value="z:/process/A41.txt"></beans:property>
                                </beans:bean>
                            </tasklet>
                        </step>
                    </flow>
                </split>
            </flow>
            <flow>
                <split id="f21-1" next="a73db-a73file">
                    <flow>
                        <step id="a73db-init" next="f21i-a73db">
                            <description>刪除 table A73 的所有資料</description>
                            <tasklet>
                                <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.SqlCommandTasklet">
                                    <beans:property name="dataSource" ref="dataSource"></beans:property>
                                    <beans:property name="sql" value="DELETE FROM A73"></beans:property>
                                </beans:bean>
                            </tasklet>
                        </step>
                        <step id="f21i-a73db">
                            <description>把 host file CDICF21I 的資料寫入 A73 table</description>
                            <tasklet>
                                <chunk reader="cdicF21IFileReader" writer="a73DbWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f21r">
                            <description>把 host file CDICF21R 的資料寫入 A73 table, B73 file, C73 file</description>
                            <tasklet>
                                <chunk reader="cdicF21RFileReader" processor="f21Processor" writer="f21Writer1" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                </split>
                <step id="a73db-a73file">
                    <description>把 host file CDICF21R 的資料寫入 A73 table, B73 file, C73 file</description>
                    <tasklet>
                        <chunk reader="cdicF21RFileReader" processor="f21Processor" writer="f21Writer1" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <split id="f23">
                    <flow>
                        <step id="f23-sample">
                            <description>產生 f23 sample file</description>
                            <tasklet>
                                <chunk reader="cdicF23FileReader" processor="f23SampleProcessor" writer="a75SampleFileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f23-copy">
                            <description>把 host file CDICF23 的資料複製至 A75 file</description>
                            <tasklet>
                                <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.CopyFilesTasklet">
                                    <beans:property name="sourceDir" value="z:/input/CDICF23.txt"></beans:property>
                                    <beans:property name="targetDir" value="z:/process/A75.txt"></beans:property>
                                </beans:bean>
                            </tasklet>
                        </step>
                    </flow>
                </split>
            </flow>
            <flow>
                <split id="f24">
                    <flow>
                        <step id="f24-sample">
                            <description>產生 f24 sample file</description>
                            <tasklet>
                                <chunk reader="cdicF24FileReader" processor="f24SampleProcessor" writer="a76SampleFileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f24-copy">
                            <description>把 host file CDICF24 的資料複製至 A76 file</description>
                            <tasklet>
                                <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.CopyFilesTasklet">
                                    <beans:property name="sourceDir" value="z:/input/CDICF24.txt"></beans:property>
                                    <beans:property name="targetDir" value="z:/process/A76.txt"></beans:property>
                                </beans:bean>
                            </tasklet>
                        </step>
                    </flow>
                </split>
            </flow>
            <flow>
                <split id="f25">
                    <flow>
                        <step id="f25-sample">
                            <description>產生 f25 sample file</description>
                            <tasklet>
                                <chunk reader="cdicF25FileReader" processor="f25SampleProcessor" writer="a77SampleFileWriter" commit-interval="500"></chunk>
                            </tasklet>
                        </step>
                    </flow>
                    <flow>
                        <step id="f25-copy">
                            <description>把 host file CDICF25 的資料複製至 A77 file</description>
                            <tasklet>
                                <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.CopyFilesTasklet">
                                    <beans:property name="sourceDir" value="z:/input/CDICF25.txt"></beans:property>
                                    <beans:property name="targetDir" value="z:/process/A77.txt"></beans:property>
                                </beans:bean>
                            </tasklet>
                        </step>
                    </flow>
                </split>
            </flow>
            <flow>
                <step id="t02A-init" next="t02-table">
                    <description>刪除 table t02 的所有資料</description>
                    <tasklet>
                        <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.SqlCommandTasklet">
                            <beans:property name="dataSource" ref="dataSource"></beans:property>
                            <beans:property name="sql" value="DELETE FROM T02"></beans:property>
                        </beans:bean>
                    </tasklet>
                </step>
                <step id="t02-table" next="t02-t02">
                    <description>把 FMBCDWN4 的資料 insert 至 T02 table</description>
                    <tasklet>
                        <chunk reader="fmbcdwn4FileReader" processor="t02Processor" writer="t02DbWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
                <step id="t02-t02">
                    <description>把 T02 Table 的資料 import 至 T02 file</description>
                    <tasklet>
                        <chunk reader="t02DbReader" writer="t02FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <step id="t06A-init" next="t06-table">
                    <description>刪除 table t06 的所有資料</description>
                    <tasklet>
                        <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.SqlCommandTasklet">
                            <beans:property name="dataSource" ref="dataSource"></beans:property>
                            <beans:property name="sql" value="DELETE FROM T06"></beans:property>
                        </beans:bean>
                    </tasklet>
                </step>
                <step id="t06-table" next="t03-t03">
                    <description>把 CDICT06 的資料 insert 至 T06 table</description>
                    <tasklet>
                        <chunk reader="cdicT06FileReader" processor="t06Processor" writer="t06DbWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
                <step id="t03-t03" next="t03-t12">
                    <description>把 CDICT03G 的資料 import 至 T03 file</description>
                    <tasklet>
                        <chunk reader="cdicT03GFileReader" processor="t03Processor" writer="t03FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
                <step id="t03-t12" next="t06-file">
                    <description>把 CDICT03G 的資料 import 至 T12 file</description>
                    <tasklet>
                        <chunk reader="cdicT03GFileReader" processor="t12Processor" writer="t12FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
                <step id="t06-file" next="t03-t06">
                    <description>把 T06 table 的資料 import 至 T06 file</description>
                    <tasklet>
                        <chunk reader="t06DbReader" writer="t06FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
                <step id="t03-t06">
                    <description>把 CDICT03G 的資料 import 至 T06 file</description>
                    <tasklet>
                        <chunk reader="cdicT03GFileReader" processor="t03t06Processor" writer="t06FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <step id="t04">
                    <description>把 local file CDICT04 資料寫至 T04 file</description>
                    <tasklet>
                        <chunk reader="cdicT04FileReader" writer="t04FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <step id="t08">
                    <description>把 local file CDICT08 資料寫至 T08 file</description>
                    <tasklet>
                        <chunk reader="cdicT08FileReader" writer="t08FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <step id="t09">
                    <description>把 local file CDICT09 資料寫至 T09 file</description>
                    <tasklet>
                        <chunk reader="cdicT09FileReader" writer="t09FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <step id="t10">
                    <description>把 local file CDICT10 資料寫至 T10 file</description>
                    <tasklet>
                        <chunk reader="cdicT10FileReader" writer="t10FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <step id="t11">
                    <description>把 host file CDICT11 的資料複製至 T11 file</description>
                    <tasklet>
                        <beans:bean class="tw.com.citi.cdic.batch.step.tasklet.CopyFilesTasklet">
                            <beans:property name="sourceDir" value="z:/input/CDICT11.txt"></beans:property>
                            <beans:property name="targetDir" value="z:/process/T11.txt"></beans:property>
                        </beans:bean>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <step id="t13">
                    <description>把 local file CDICT13 資料寫至 T13 file</description>
                    <tasklet>
                        <chunk reader="cdicT13FileReader" writer="t13FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <step id="t14">
                    <description>把 local file CDICT14 資料寫至 T14 file</description>
                    <tasklet>
                        <chunk reader="cdicT14FileReader" writer="t14FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <step id="t18">
                    <description>把 local file CDICT18 資料寫至 T18 file</description>
                    <tasklet>
                        <chunk reader="cdicT18FileReader" writer="t18FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <step id="t20">
                    <description>把 local file CDICT20 資料寫至 T20 file</description>
                    <tasklet>
                        <chunk reader="cdicT20FileReader" writer="t20FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <step id="t21">
                    <description>把 local file CDICT21 資料寫至 T21 file</description>
                    <tasklet>
                        <chunk reader="cdicT21FileReader" writer="t21FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
            <flow>
                <decision id="t27Decision" decider="t27Decider">
                    <next on="EXECUTE" to="t27" />
                    <end on="SKIP" />
                </decision>
                <step id="t27">
                    <description>把 CDICT27H 的資料 import 至 T27 file</description>
                    <tasklet>
                        <chunk reader="cdicT27HFileReader" processor="t27Processor" writer="t27FileWriter" commit-interval="500"></chunk>
                    </tasklet>
                </step>
            </flow>
        </split>

    </job>

</beans:beans>
