<?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:wicket="http://wicket.apache.org/">
    <wicket:head>
        <title>批次產檔作業</title>
    </wicket:head>
    <wicket:extend>
        <div id="batchList">
        </div>
        <p>
            &nbsp;&nbsp;
        </p>
        <a id="start" class="fg-button ui-state-default ui-corner-all" style="float:none;">開始</a>
        <a id="cancel" class="fg-button ui-state-default ui-corner-all" style="float:none;">離開</a>
        <script type="text/javascript">
            var check = function(id){
                alert('check: ' + id);
            };
            $().ready(function(){
                var batchList = $('#batchList').iGrid({
                    datatype: "local",
                    height: 200,
                    needPager: false,
                    sortname: 'batchId',
                    colModel: [{
                        colHeader: '執行',
                        name: 'execute',
                        formatter: 'checkbox',
                        formatoptions: {
                            disabled: false
                        },
                        editable: true,
                        edittype: 'checkbox'
                    }, {
                        colHeader: '群組/檔案',
                        name: 'batchId'
                    }, {
                        colHeader: '狀態',
                        name: 'batchStatus'
                    }, {
                        colHeader: '來源檔案',
                        name: 'sourceFile'
                    }, {
                        colHeader: ' ',
                        name: 'process'
                    }]
                });
                batchList.addGridData([[true, 'Group1', 'OK', '123'], [false, 'Group2', 'OK', '234']]);
                var ids = batchList.getDataIDs();
                for (var i = 0; i < ids.length; i++) {
                    var cl = ids[i];
                    be = "<a class='fg-button ui-state-default ui-corner-all' style='float:none;' onclick='check(" + cl + ");'>檢視來源檔案</a>";
                    batchList.setRowData(ids[i], {
                        process: be
                    })
                }
            });
        </script>
    </wicket:extend>
</html>
